(window.webpackJsonp=window.webpackJsonp||[]).push([[109],{539:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("blockquote",[s("p",[t._v("当你发现自己的才华撑不起你的野心时，就请安静下来学习吧！")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://image.icey.cc/3+2.png",alt:""}})]),t._v(" "),s("blockquote",[s("p",[t._v("鲁迅说过："),s("code",[t._v("答案仅供参考...")])])]),t._v(" "),s("h2",{attrs:{id:"_1、谈谈你对tcp三次握手和四次挥手的理解。"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1、谈谈你对tcp三次握手和四次挥手的理解。"}},[t._v("#")]),t._v(" 1、谈谈你对TCP三次握手和四次挥手的理解。")]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("解析:")]),s("br"),t._v("\n三次握手(建立链接)：")]),t._v(" "),s("ol",[s("li",[t._v("A->B:你好我是A； "),s("code",[t._v("(A向B发送syn)")])]),t._v(" "),s("li",[t._v("B->A:收到，我是B； "),s("code",[t._v("(B接受syn,并返回A一个syn+ack的包给A)")])]),t._v(" "),s("li",[t._v("A->B:好的我们建立链接了。 "),s("code",[t._v("(A确认接受syn+ack包，并向B发送ack，建立链接)")])])]),t._v(" "),s("p",[t._v("4次挥手(断开链接)：")]),t._v(" "),s("ol",[s("li",[t._v("A->B:你好，我要挂了 ；"),s("code",[t._v("(A向B发送fin)")])]),t._v(" "),s("li",[t._v("B->A: 好的，等会儿；"),s("code",[t._v("(B确认收到fin，向A发送ack，进入close-wait-1状态，不能再读取数据，但可以继续给A发送数据，)")])]),t._v(" "),s("li",[t._v("A收到后开始等待； "),s("code",[t._v("(A收到fin后，此时A进入close-wait-2等待状态)")])]),t._v(" "),s("li",[t._v("B->A: 好了，可以挂了； "),s("code",[t._v("(B向A发送fin，进入last-wait状态，等A回馈，不能读数据也不能发送数据)")])]),t._v(" "),s("li",[t._v("A->B: 收到，等两秒确认所有资料都受到了，和B说可以挂了！"),s("code",[t._v("（A收到fin后，向B发送ack，等2msl后，关闭，释放网络资源)")])]),t._v(" "),s("li",[t._v("B收到后，挂了。"),s("code",[t._v("(B收到ack，关闭，释放网络资源)")])])]),t._v(" "),s("p",[t._v("其它解读：")]),t._v(" "),s("ul",[s("li",[s("blockquote",[s("p",[t._v("两次握手 （不安全，都没考量一下，万一加到的是个铁憨憨呢）")])]),t._v(" "),s("ul",[s("li",[t._v("男：我喜欢你！加个微信吧")]),t._v(" "),s("li",[t._v("女：通过好友验证，开始交往。")])])]),t._v(" "),s("li",[s("blockquote",[s("p",[t._v("三次握手 （安全、高效）")])]),t._v(" "),s("ul",[s("li",[t._v("男：我喜欢你！可以加个微信吗？")]),t._v(" "),s("li",[t._v("女：长得还不错。是个渣男。我扫你。")]),t._v(" "),s("li",[t._v("通过好友验证，开始交往。")])])]),t._v(" "),s("li",[s("blockquote",[s("p",[t._v("四次握手（浪费时间，影响效率）")])]),t._v(" "),s("ul",[s("li",[t._v("男：我喜欢你！可以加个微信吗？")]),t._v(" "),s("li",[t._v("女：让我考虑一下。我去问下姐妹意见。")]),t._v(" "),s("li",[t._v("女：我考虑好了，我们加微信吧？")]),t._v(" "),s("li",[t._v("通过好友验证，开始交往。")])])]),t._v(" "),s("li",[s("blockquote",[s("p",[t._v("四次挥手")])]),t._v(" "),s("ul",[s("li",[t._v("男：分手！")]),t._v(" "),s("li",[t._v("女：呵呵，渣男！滚！将对方微信拉黑。")]),t._v(" "),s("li",[t._v("男：那你是同意了吗？（消息已发出，但被对方拒收了）继续等待对方回复确认分手。")]),t._v(" "),s("li",[t._v("女：经过一阵痛苦煎熬之后，好吧，分手吧。请把我送你的东西还回来。")]),t._v(" "),s("li",[t._v("男：快递寄出归还物品。等待2MSL，确认对方收到货物之后，删除对方。")]),t._v(" "),s("li",[t._v("女：收到货物，伤心欲绝，删除对方。释放自己单身资源。")])])])]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/15",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考答案"),s("OutboundLink")],1),t._v("  --- 感谢"),s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Daily-Interview-Question】"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_2、-a、b-机器正常连接后-b-机器突然重启-问-a-此时处于-tcp-什么状态"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2、-a、b-机器正常连接后-b-机器突然重启-问-a-此时处于-tcp-什么状态"}},[t._v("#")]),t._v(" 2、 A、B 机器正常连接后，B 机器突然重启，问 A 此时处于 TCP 什么状态")]),t._v(" "),s("blockquote",[s("p",[t._v("如果A 与 B 建立了正常连接后，从未相互发过数据，这个时候 B 突然机器重启，问 A 此时处于 TCP 什么状态？如何消除服务器程序中的这个状态？（超纲题，了解即可）")])]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("解析:")]),s("br"),t._v("\n这时候对于A机器来说，如果是刚打开网页的时候，那么浏览器选项卡左上角图标这时候会一直转圈，如果在短时间内B机器重新启动服务了，A机器会连接成功，如果超过了A机器的等待时间，这条请求会挂掉")]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/21",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考答案"),s("OutboundLink")],1),t._v("  --- 感谢"),s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Daily-Interview-Question】"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_3、-微医-react-中-setstate-什么时候是同步的-什么时候是异步的"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3、-微医-react-中-setstate-什么时候是同步的-什么时候是异步的"}},[t._v("#")]),t._v(" 3、（微医）React 中 setState 什么时候是同步的，什么时候是异步的？")]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("解析:")]),s("br"),t._v("\n在React中，如果是由React引发的事件处理（比如通过onClick引发的事件处理），调用setState不会同步更新this.state，除此之外的setState调用会同步执行this.state。所谓“除此之外”，指的是绕过React通过addEventListener直接添加的事件处理函数，还有通过setTimeout/setInterval产生的异步调用。")]),t._v(" "),s("p",[t._v("原因在React的setState函数实现中，会根据一个变量isBatchingUpdates判断是直接更新this.state还是放到队列中回头再说，而isBatchingUpdates默认是false，也就表示setState会同步更新this.state，但是，有一个函数batchedUpdates，这个函数会把isBatchingUpdates修改为true，而当React在调用事件处理函数之前就会调用这个batchedUpdates，造成的后果，就是由React控制的事件处理过程setState不会同步更新this.state。")]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/17",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考答案"),s("OutboundLink")],1),t._v("  --- 感谢"),s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Daily-Interview-Question】"),s("OutboundLink")],1),s("br"),t._v("\n详细解读 "),s("a",{attrs:{href:"https://github.com/sisterAn/blog/issues/26",target:"_blank",rel:"noopener noreferrer"}},[t._v("深入 setState 机制"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_4、react-setstate-笔试题-下面的代码输出什么"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4、react-setstate-笔试题-下面的代码输出什么"}},[t._v("#")]),t._v(" 4、React setState 笔试题，下面的代码输出什么？")]),t._v(" "),s("div",{staticClass:"language-js line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("class")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Example")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("React"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Component")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  \n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidMount")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第 1 次 log")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第 2 次 log")]),t._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTimeout")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第 3 次 log")]),t._v("\n\n      "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setState")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("val")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n      console"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第 4 次 log")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br"),s("span",{staticClass:"line-number"},[t._v("28")]),s("br")])]),s("hr"),t._v(" "),s("p",[s("strong",[t._v("解析:")]),s("br"),t._v("\n答案是： 0\t0\t2\t3")]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/18",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考答案"),s("OutboundLink")],1),t._v("  --- 感谢"),s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Daily-Interview-Question】"),s("OutboundLink")],1)])]),t._v(" "),s("h2",{attrs:{id:"_5、介绍下-npm-模块安装机制-为什么输入-npm-install-就可以自动安装对应的模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5、介绍下-npm-模块安装机制-为什么输入-npm-install-就可以自动安装对应的模块"}},[t._v("#")]),t._v(" 5、介绍下 npm 模块安装机制，为什么输入 npm install 就可以自动安装对应的模块？")]),t._v(" "),s("hr"),t._v(" "),s("p",[s("strong",[t._v("解析:")]),s("br"),t._v("\n模块安装机制：")]),t._v(" "),s("ol",[s("li",[t._v("npm install命令")]),t._v(" "),s("li",[t._v("查询node_modules目录中是否已经存在制定的模块\n"),s("ol",[s("li",[t._v("若存在，不需要重新安装")]),t._v(" "),s("li",[t._v("若不存在，\n"),s("ul",[s("li",[t._v("npm向registry查询模块压缩包的网址")]),t._v(" "),s("li",[t._v("下载压缩包，存放在根目录下的.npm目录里")]),t._v(" "),s("li",[t._v("解压压缩包到当前项目的node_modules目录")])])])])])]),t._v(" "),s("p",[t._v("npm实现原理：\n输入npm install命令敲下回车后，会经历以下阶段(以npm5.5.1为例)：")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("执行自身的的preinstall")])]),t._v(" "),s("li",[s("p",[t._v("确定首层依赖模块：")]),t._v(" "),s("ol",[s("li",[t._v("就是确定dependencies和devDependencies属性中指定的模块（假设没有添加npm install参数）")]),t._v(" "),s("li",[t._v("npm会开启多进程从首层依赖模块逐步寻找更深的节点")])])]),t._v(" "),s("li",[s("p",[t._v("获取模块"),s("br"),t._v("\n获取模块是个递归的过程。")]),t._v(" "),s("ul",[s("li",[t._v("(1)获取模块信息")]),t._v(" "),s("li",[t._v("(2)获取模块实体，缓存-下载")]),t._v(" "),s("li",[t._v("(3)查找该模块依赖，如果有返回(1)，如果没有则停止")])])]),t._v(" "),s("li",[s("p",[t._v("模块扁平化")]),t._v(" "),s("p",[t._v("上面会得到一个模块依赖树，其中包含大量的重复模块，起初npm3会重复安装，造成冗余，后来会通过dedupe过程去除重复模块")])]),t._v(" "),s("li",[s("p",[t._v("安装模块：\n更新工程中的node_modules，并执行模块中的生命周期（preinstall、install、postinstall顺序）")])]),t._v(" "),s("li",[s("p",[t._v("执行工程自身的生命周期：npm工程自定义的生命钩子会执行")])]),t._v(" "),s("li",[s("p",[t._v("最后生产版本或更新版本的描述文件，npm install 过程完成")])])]),t._v(" "),s("blockquote",[s("p",[s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question/issues/22",target:"_blank",rel:"noopener noreferrer"}},[t._v("参考答案"),s("OutboundLink")],1),t._v("  --- 感谢"),s("a",{attrs:{href:"https://github.com/Advanced-Frontend/Daily-Interview-Question",target:"_blank",rel:"noopener noreferrer"}},[t._v("【Daily-Interview-Question】"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);